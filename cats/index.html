<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Purrfect Training ‚Äî Science-Based Cat Training</title>
  <meta name="description" content="Free, science-based cat training guides using positive reinforcement. Litter, scratching, carrier, harness/leash, clicker, enrichment, introductions, and more." />
  <meta name="theme-color" content="#7c3aed" />
    <style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
		  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
		  line-height: 1.6;
		  color: #111;
		  background: #ffffff;
		}

		.container {
			max-width: 1200px;
			margin: 0 auto;
			padding: 0 20px;
		}

		/* Page visibility */
		.page {
			display: none !important;
			height: 0;
			overflow: hidden;
		}

		.page.active {
			display: block !important;
			height: auto;
			overflow: visible;
		}

		/* Header */
		header {
			background: rgba(255, 255, 255, 0.95);
			backdrop-filter: blur(10px);
			padding: 1rem 0;
			position: fixed;
			width: 100%;
			top: var(--banner-offset, 0px);
			z-index: 1000;
			box-shadow: 0 2px 20px rgba(0,0,0,0.1);
			transition: top 0.3s ease; /* added safely */
		}

		nav {
			display: flex;
			justify-content: space-between;
			align-items: center;
		}

		.logo {
			font-size: 1.8rem;
			font-weight: bold;
			color: #4a5568;
			display: flex;
			align-items: center;
			gap: 10px;
			cursor: pointer;
		}

		.logo::before {
			content: "üêà";
			font-size: 2rem;
		}

		.nav-links {
			display: flex;
			list-style: none;
			gap: 2rem;
		}

		.nav-links a {
			text-decoration: none;
			color: #4a5568;
			font-weight: 500;
			transition: color 0.3s ease;
			cursor: pointer;
		}

		.nav-links a:hover {
			color: #667eea;
		}

		/* Hero Section */
		.hero {
			margin-top: 80px;
			padding: 4rem 0;
			text-align: center;
			color: white;
		}

		.hero h1 {
			font-size: 3.5rem;
			margin-bottom: 1rem;
			background: linear-gradient(45deg, #fff, #f0f8ff);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.hero p {
			font-size: 1.3rem;
			margin-bottom: 2rem;
			opacity: 0.9;
		}

		.cta-button {
			display: inline-block;
			background: linear-gradient(45deg, #ff6b6b, #ee5a24);
			color: white;
			padding: 1rem 2rem;
			text-decoration: none;
			border-radius: 50px;
			font-weight: bold;
			font-size: 1.1rem;
			transition: transform 0.3s ease, box-shadow 0.3s ease;
			box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
			cursor: pointer;
			border: none;
		}

		.cta-button:hover {
			transform: translateY(-2px);
			box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
		}

		/* Features Section */
		.features {
			background: white;
			padding: 4rem 0;
		}

		.features h2 {
			text-align: center;
			font-size: 2.5rem;
			margin-bottom: 3rem;
			color: #2d3748;
		}

		.features-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
			gap: 2rem;
		}

		.feature-card {
			background: linear-gradient(135deg, #f7fafc, #edf2f7);
			padding: 2rem;
			border-radius: 15px;
			text-align: center;
			transition: transform 0.3s ease, box-shadow 0.3s ease;
			border: 1px solid rgba(102, 126, 234, 0.1);
		}

		.feature-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 10px 30px rgba(0,0,0,0.1);
		}

		.feature-icon {
			font-size: 3rem;
			margin-bottom: 1rem;
		}

		.feature-card h3 {
			font-size: 1.4rem;
			margin-bottom: 1rem;
			color: #2d3748;
		}

		.feature-card p {
			color: #4a5568;
			line-height: 1.6;
		}

		/* Training Areas */
		.training-areas {
			background: linear-gradient(135deg, #667eea, #764ba2);
			padding: 4rem 0;
			color: white;
		}

		.training-page .training-areas {
			background: white;
			color: #333;
		}

		.training-areas h2 {
			text-align: center;
			font-size: 2.5rem;
			margin-bottom: 3rem;
		}

		.areas-grid {
			display: grid;
			grid-template-columns: repeat(3, 1fr);
			gap: 1.5rem;
			max-width: 900px;
			margin: 0 auto;
		}

		.area-card {
			background: rgba(255, 255, 255, 0.1);
			backdrop-filter: blur(10px);
			padding: 1.5rem;
			border-radius: 15px;
			text-align: center;
			transition: all 0.3s ease;
			border: 2px solid rgba(255, 255, 255, 0.2);
			cursor: pointer;
			position: relative;
			overflow: hidden;
		}

		.area-card::after {
			content: "Click to Start ‚Üí";
			position: absolute;
			bottom: 8px;
			right: 12px;
			font-size: 11px;
			color: rgba(255, 255, 255, 0.7);
			opacity: 0;
			transition: opacity 0.3s ease;
		}

		.area-card:hover {
			transform: translateY(-3px);
			background: rgba(255, 255, 255, 0.2);
			border-color: rgba(255, 255, 255, 0.4);
			box-shadow: 0 8px 25px rgba(255, 255, 255, 0.1);
		}

		.area-card:hover::after {
			opacity: 1;
		}

		.area-card.locked {
			background: rgba(255, 255, 255, 0.05);
			border: 2px dashed rgba(255, 107, 107, 0.5);
			cursor: not-allowed;
		}

		.area-card.locked::after {
			content: "üîí PREMIUM";
			opacity: 1;
			color: #ff6b6b;
			font-size: 12px;
			font-weight: bold;
		}

		.area-card.locked h4,
		.area-card.locked p {
			opacity: 0.5;
		}

		.training-page .area-card {
			background: linear-gradient(135deg, #f7fafc, #edf2f7);
			border: 1px solid rgba(102, 126, 234, 0.2);
			box-shadow: 0 4px 15px rgba(0,0,0,0.1);
			color: #2d3748;
			backdrop-filter: none;
		}

		.training-page .area-card:hover {
			background: linear-gradient(135deg, #edf2f7, #e2e8f0);
			box-shadow: 0 8px 25px rgba(0,0,0,0.15);
			transform: translateY(-5px);
		}

		.training-page .area-card h4 {
			color: #2d3748;
		}

		.training-page .area-card p {
			color: #4a5568;
			opacity: 1;
		}

		.area-card h4 {
			font-size: 1.2rem;
			margin-bottom: 0.5rem;
		}

		.area-card p {
			font-size: 0.9rem;
			opacity: 0.9;
		}

		/* LIMA Section */
		.lima-section {
			background: white;
			padding: 4rem 0;
		}

		.lima-content {
			display: grid;
			grid-template-columns: 1fr 1fr;
			gap: 3rem;
			align-items: center;
		}

		.lima-text h2 {
			font-size: 2.5rem;
			margin-bottom: 1rem;
			color: #2d3748;
		}

		.lima-text p {
			margin-bottom: 1rem;
			color: #4a5568;
			font-size: 1.1rem;
		}

		.lima-principles {
			list-style: none;
		}

		.lima-principles li {
			background: linear-gradient(135deg, #f7fafc, #edf2f7);
			padding: 1rem;
			margin: 0.5rem 0;
			border-radius: 10px;
			border-left: 4px solid #667eea;
		}

		.lima-visual {
			text-align: center;
		}

		.hierarchy-pyramid {
			background: linear-gradient(45deg, #667eea, #764ba2);
			color: white;
			padding: 2rem;
			border-radius: 15px;
			position: relative;
		}

		.pyramid-level {
			padding: 0.8rem;
			margin: 0.5rem 0;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 8px;
			backdrop-filter: blur(5px);
		}

		/* Training Page Styles */
		.training-page {
			background: white;
			padding: 6rem 0 4rem 0;
			min-height: 100vh;
		}

		.training-header {
			text-align: center;
			margin-bottom: 3rem;
		}

		.training-header h1 {
			font-size: 2.8rem;
			color: #2d3748;
			margin-bottom: 1rem;
		}

		.training-header p {
			font-size: 1.2rem;
			color: #4a5568;
			max-width: 600px;
			margin: 0 auto;
		}

		.back-button {
			background: #667eea;
			color: white;
			padding: 0.8rem 1.5rem;
			border: none;
			border-radius: 8px;
			cursor: pointer;
			font-size: 1rem;
			margin-bottom: 2rem;
			transition: background 0.3s ease;
		}

		.back-button:hover {
			background: #5a67d8;
		}

		.training-steps {
			background: #f7fafc;
			padding: 2rem;
			border-radius: 15px;
			margin: 2rem 0;
		}

		.step {
			background: white;
			padding: 1.5rem;
			margin: 1rem 0;
			border-radius: 10px;
			border-left: 4px solid #667eea;
			box-shadow: 0 2px 10px rgba(0,0,0,0.1);
		}

		.step h3 {
			color: #2d3748;
			margin-bottom: 0.5rem;
		}

		.step-number {
			background: #667eea;
			color: white;
			width: 30px;
			height: 30px;
			border-radius: 50%;
			display: inline-flex;
			align-items: center;
			justify-content: center;
			margin-right: 1rem;
			font-weight: bold;
		}

		.tips-section {
			background: linear-gradient(135deg, #e6fffa, #f0fff4);
			padding: 2rem;
			border-radius: 15px;
			margin: 2rem 0;
			border: 1px solid #4fd1c7;
		}

		.troubleshooting {
			background: linear-gradient(135deg, #fef5e7, #fefcbf);
			padding: 2rem;
			border-radius: 15px;
			margin: 2rem 0;
			border: 1px solid #f6ad55;
		}

		/* Modal Styles */
		.modal {
			display: none;
			position: fixed;
			z-index: 1000;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			background-color: rgba(0, 0, 0, 0.7);
		}

		.modal-content {
			background-color: #2d3748;
			margin: 10% auto;
			padding: 30px;
			border: 2px solid #667eea;
			border-radius: 15px;
			width: 450px;
			max-width: 90vw;
			position: relative;
			color: white;
			box-shadow: 0 10px 30px rgba(0,0,0,0.5);
		}

		#progress-modal .modal-content {
			width: 600px;
			max-width: 90vw;
			max-height: 85vh;
			overflow-y: auto;
			padding: 20px;
		}

		.close {
			position: absolute;
			top: 15px;
			right: 20px;
			color: #aaa;
			font-size: 24px;
			font-weight: bold;
			cursor: pointer;
			background: rgba(255,255,255,0.1);
			border: 1px solid rgba(255,255,255,0.2);
			border-radius: 6px;
			width: 32px;
			height: 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			transition: all 0.3s ease;
		}

		.close:hover {
			color: white;
			background: rgba(255,255,255,0.2);
			border-color: #667eea;
		}

		.modal-content h2 {
			color: #667eea;
			margin-bottom: 20px;
			font-size: 24px;
		}

		.modal-content input {
			width: 100%;
			padding: 12px;
			margin: 15px 0;
			background: #4a5568;
			border: 1px solid #667eea;
			border-radius: 8px;
			color: white;
			font-size: 16px;
			text-align: center;
			letter-spacing: 2px;
		}

		.modal-content button {
			background: #667eea;
			color: white;
			border: none;
			padding: 12px 20px;
			border-radius: 8px;
			cursor: pointer;
			width: 100%;
			margin-top: 10px;
			font-size: 16px;
			transition: background 0.3s ease;
		}

		.modal-content button:hover {
			background: #5a67d8;
		}

		.secondary-btn {
			background: #4a5568;
			border: 1px solid #667eea;
		}

		.secondary-btn:hover {
			background: #667eea;
		}

		.premium-info {
			background: rgba(102, 126, 234, 0.1);
			border-left: 3px solid #667eea;
			padding: 15px;
			margin: 15px 0;
			border-radius: 8px;
		}

		.premium-features {
			list-style: none;
			padding: 0;
			margin: 10px 0;
		}

		.premium-features li {
			margin: 8px 0;
			padding-left: 5px;
		}

		/* Progress Tracker Styles */
		.skill-item {
			background: white;
			padding: 1rem;
			margin: 0.5rem 0;
			border-radius: 10px;
			border-left: 4px solid #667eea;
			box-shadow: 0 2px 10px rgba(0,0,0,0.1);
		}

		.star-rating {
			display: flex;
			gap: 0.2rem;
			justify-content: center;
		}

		.star {
			cursor: pointer;
			font-size: 2.5rem;
			color: #e2e8f0;
			transition: color 0.2s;
			user-select: none;
		}

		.star:hover, .star.active {
			color: #ffd700;
		}

		/* Footer */
		footer {
			background: #2d3748;
			color: white;
			text-align: center;
			padding: 2rem 0;
		}

		#cookie-banner {
			position: fixed;
			bottom: 0;
			left: 0;
			right: 0;
			background: #2d3748;
			color: white;
			padding: 15px 20px;
			z-index: 10000;
			border-top: 2px solid #667eea;
			display: none;
		}

		#cookie-banner.show {
			display: block;
		}

		.cookie-content {
			max-width: 1200px;
			margin: 0 auto;
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 20px;
		}

		.cookie-text {
			flex: 1;
			font-size: 14px;
			line-height: 1.4;
		}

		.cookie-buttons {
			display: flex;
			gap: 10px;
		}

		.cookie-btn {
			padding: 8px 16px;
			border: none;
			border-radius: 5px;
			cursor: pointer;
			font-size: 14px;
			font-weight: bold;
		}

		.cookie-accept {
			background: #667eea;
			color: white;
		}

		.cookie-decline {
			background: #4a5568;
			color: white;
			border: 1px solid #667eea;
		}

		@media (max-width: 768px) {
			.cookie-content {
				flex-direction: column;
				text-align: center;
			}

			.hero h1 {
				font-size: 2.5rem;
			}

			.nav-links {
				display: none;
			}

			.lima-content {
				grid-template-columns: 1fr;
				gap: 2rem;
			}

			.features-grid {
				grid-template-columns: 1fr;
			}

			.areas-grid {
				grid-template-columns: 1fr;
			}
			
			.modal-content {
				width: 350px;
				padding: 25px;
			}
		}		
    </style>  
</head>
<body>
  <header>
    <nav class="container">
      <div class="logo" onclick="showPage('home')">Purrfect Training</div>
      <ul class="nav-links">
        <li><a onclick="showPage('home')">Home (CAT)</a></li>
        <li><a onclick="showPage('training-list')">Training Areas</a></li>
        <li><a onclick="showPage('about')">About LIMA</a></li>
        <li><a onclick="showPage('resources')">Resources</a></li>
        <li><a onclick="showPage('contact')">Contact</a></li>
		<li><a href="/dogs/index.html">üêï Dog Training</a></li>
        <li><a class="unlock-chip" onclick="openUnlock()">üîì UNLOCK</a></li>
      </ul>
    </nav>
  </header>

  <!-- HOME -->
  <main id="home" class="page active">
    <section class="hero">
      <div class="container">
        <h1>Science-Based Cat Training</h1>
        <p>Positive reinforcement, clicker games, fear-free husbandry, and smart environment design for happier cats.</p>
        <button class="cta-button" onclick="showPage('training-list')">Start Training</button>
      </div>
    </section>

    <section class="features">
      <div class="container">
        <h2>Why Train Cats?</h2>
        <div class="grid features-grid">
          <div class="feature-card">
            <div class="ico">üß†</div>
            <h3>Proven Learning</h3>
            <p>Cats can learn quickly with rewards and marker signals (e.g., clicker). Shelters report better engagement and exploratory behavior after training.</p>
          </div>
          <div class="feature-card">
            <div class="ico">üò∫</div>
            <h3>Stress Less</h3>
            <p>Carrier and handling training reduce fear at the vet and during transport via desensitization and counter-conditioning.</p>
          </div>
          <div class="feature-card">
            <div class="ico">üè†</div>
            <h3>Better Living</h3>
            <p>Right litter setup, scratching outlets, and enrichment prevent common issues and improve welfare.</p>
          </div>
          <div class="feature-card">
            <div class="ico">ü§ù</div>
            <h3>Stronger Bond</h3>
            <p>Reward-based methods build trust without aversives. Great for kittens and adults alike.</p>
          </div>
		  <div class="feature-card">
		    <div class="ico">ü™∂</div>
		    <h3>Enrichment & Play</h3>
		    <p>Structured play and foraging toys satisfy hunting instincts and reduce stress. Rotate toys weekly for novelty.</p>
		  </div>
		  <div class="feature-card">
		    <div class="ico">üêï‚Äçü¶∫</div>
		    <h3>Socialization & Confidence</h3>
		    <p>Gradual exposure to new people, pets, and places prevents fear and helps cats stay confident through change.</p>
		  </div>		  
        </div>
      </div>
    </section>

	<!-- NEW SECTION: Common Training Areas -->
	<section class="training-areas">
	  <div class="container">
		<h2>Common Training Areas</h2>
		<p style="text-align:center;color:#4a5568;margin-bottom:24px">
		  Choose a topic to get a step-by-step plan with progress tracking.
		</p>
		<div class="areas-grid">
		  <div class="area-card" onclick="showTrainingPage('litter')">
			<h4>üß∫ Litter Habits</h4>
			<p>Box size, number, substrate, location</p>
		  </div>
		  <div class="area-card" onclick="showTrainingPage('scratching')">
			<h4>ü™µ Scratching</h4>
			<p>Post types, placement, reinforcement</p>
		  </div>
		  <div class="area-card" onclick="showTrainingPage('carrier')">
			<h4>üß≥ Carrier/Handling</h4>
			<p>Desensitization steps</p>
		  </div>
		  <div class="area-card locked" data-premium="1" onclick="showTrainingPage('harness')">
			<h4>ü™¢ Harness & Leash</h4>
			<p>Indoor ‚Üí yard ‚Üí quiet routes</p>
		  </div>
		  <div class="area-card locked" data-premium="1" onclick="showTrainingPage('clicker')">
			<h4>üîä Clicker Basics</h4>
			<p>Charge the marker, shape skills</p>
		  </div>
		  <div class="area-card locked" data-premium="1" onclick="showTrainingPage('intro')">
			<h4>üêà‚Äç‚¨õ Introductions</h4>
			<p>Scent swap, gates, gradients</p>
		  </div>
		  <div class="area-card locked" data-premium="1" onclick="showTrainingPage('husbandry')">
			<h4>üçΩÔ∏è Husbandry</h4>
			<p>Meds, brush, teeth, trim</p>
		  </div>
		  <div class="area-card locked" data-premium="1" onclick="showTrainingPage('target')">
			<h4>üéØ Target & Recall</h4>
			<p>Target stick, station, come</p>
		  </div>
		  <div class="area-card locked" data-premium="1" onclick="showTrainingPage('fear')">
			<h4>üòø Fear & Aggression</h4>
			<p>CC/DS below threshold</p>
		  </div>
		</div>
	  </div>
	</section>

    <!-- NEW SECTION: LIMA Approach -->
    <section class="section" style="background:white">
      <div class="container">
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:3rem;align-items:center">
          <div>
            <h2>The LIMA Approach</h2>
            <p><strong>Least Intrusive, Minimally Aversive</strong> ‚Äî the gold standard for humane training across species.</p>
            <p>By focusing on motivation, management, and reinforcement, we help cats thrive without fear, pain, or coercion.</p>
            <ul style="list-style:none;padding:0;margin-top:1rem">
              <li style="background:#f9fafb;padding:10px 12px;margin:5px 0;border-left:4px solid #7c3aed;border-radius:8px"><strong>Health First:</strong> Rule out medical issues.</li>
              <li style="background:#f9fafb;padding:10px 12px;margin:5px 0;border-left:4px solid #7c3aed;border-radius:8px"><strong>Management:</strong> Prevent practice of unwanted behaviors.</li>
              <li style="background:#f9fafb;padding:10px 12px;margin:5px 0;border-left:4px solid #7c3aed;border-radius:8px"><strong>Positive Reinforcement:</strong> Reward desired actions generously.</li>
              <li style="background:#f9fafb;padding:10px 12px;margin:5px 0;border-left:4px solid #7c3aed;border-radius:8px"><strong>Negative Punishment:</strong> Remove access, never add fear.</li>
              <li style="background:#f9fafb;padding:10px 12px;margin:5px 0;border-left:4px solid #7c3aed;border-radius:8px"><strong>Force-Free:</strong> No scruffing, spraying, or aversive handling.</li>
            </ul>
          </div>
          <div style="text-align:center">
            <div style="background:linear-gradient(45deg,#7c3aed,#a855f7);color:white;padding:2rem;border-radius:14px">
              <h3>LIMA Hierarchy</h3>
              <div style="background:rgba(255,255,255,.1);padding:8px;margin:6px 0;border-radius:6px">ü©∫ Health & Environment</div>
              <div style="background:rgba(255,255,255,.1);padding:8px;margin:6px 0;border-radius:6px">üöß Management & Prevention</div>
              <div style="background:rgba(255,255,255,.1);padding:8px;margin:6px 0;border-radius:6px">‚úÖ Positive Reinforcement</div>
              <div style="background:rgba(255,255,255,.1);padding:8px;margin:6px 0;border-radius:6px">‚è∏Ô∏è Negative Punishment</div>
              <div style="background:rgba(255,255,255,.1);padding:8px;margin:6px 0;border-radius:6px">‚ö†Ô∏è Positive Punishment (Avoid)</div>
            </div>
          </div>
        </div>
      </div>
    </section>

	<!-- TEMPLATE TRAINING PAGE (rendered dynamically) -->
	<section id="training" class="page training">
	  <div class="container">
		<button class="back" onclick="showPage('training-list')">‚Üê Back to Training Areas</button>
		<div class="t-head">
		  <h1 id="t-title">Topic</h1>
		  <p id="t-sub">Summary</p>
		</div>
		<div class="center" style="text-align:center;margin:10px 0 16px">
		  <button class="cta-button" onclick="openTracker()">üìä Track My Progress</button>
		</div>
		<div class="steps" id="t-steps"></div>
		<div class="tips" id="t-tips"></div>
		<div class="warn" id="t-warn"></div>
	  </div>
	</section>
	
  </main>

  <!-- LIST -->
  <section id="training-list" class="page training">
    <div class="container">
      <button class="back" onclick="showPage('home')">‚Üê Back to Home</button>
      <div class="t-head">
        <h1>Training Areas</h1>
        <p>Choose a topic to get a step-by-step plan with progress tracking.</p>
      </div>
      <div class="grid">
        <div class="card" onclick="showTraining('litter')"><h4>üß∫ Litter Habits</h4><p>Box size, number, substrate, location</p></div>
        <div class="card" onclick="showTraining('scratching')"><h4>ü™µ Scratching</h4><p>Post types, placement, reinforcement</p></div>
        <div class="card" onclick="showTraining('carrier')"><h4>üß≥ Carrier/Handling</h4><p>Desensitization steps</p></div>
        <div class="card" onclick="showTraining('harness')"><h4>ü™¢ Harness & Leash</h4><p>Indoor ‚Üí yard ‚Üí quiet routes</p></div>
        <div class="card" onclick="showTraining('clicker')"><h4>üîä Clicker Basics</h4><p>Charge the marker, shape skills</p></div>
        <div class="card" onclick="showTraining('intro')"><h4>üêà‚Äç‚¨õ Introductions</h4><p>Scent swap, gates, gradients</p></div>
        <div class="card locked" data-premium="1" onclick="guardPremium(event)"><h4>üçΩÔ∏è Husbandry</h4><p>Meds, brush, teeth, trim</p></div>
        <div class="card locked" data-premium="1" onclick="guardPremium(event)"><h4>üéØ Target & Recall</h4><p>Target stick, station, come</p></div>
        <div class="card locked" data-premium="1" onclick="guardPremium(event)"><h4>üòø Fear & Aggression</h4><p>CC/DS below threshold</p></div>
      </div>
    </div>
  </section>

  <!-- ABOUT PAGE -->
  <div id="about" class="page">
    <div class="training-page">
      <div class="container">
        <button class="back-button" onclick="showPage('home')">‚Üê Back to Home</button>
  
        <div class="training-header">
          <h1>About the LIMA Approach</h1>
          <p>Reward-based training, environmental design, and fear-free handling for dogs and cats ‚Äî helping animals learn while staying calm, confident, and cooperative.</p>
        </div>
  
        <div class="lima-content">
          <div class="lima-text">
  
            <h2>What is LIMA?</h2>
            <p><strong>LIMA</strong> stands for <strong>Least Intrusive, Minimally Aversive</strong>. It‚Äôs a professional code of ethics used by leading organizations like the <strong>IAABC</strong> and <strong>APDT</strong>. LIMA emphasizes humane, science-based strategies that protect the animal‚Äôs emotional well-being while teaching practical life skills.</p>
  
            <h2>Core Training Methods</h2>
            <p>These principles apply across species ‚Äî from confident canines to cautious felines ‚Äî adapting to their natural communication and comfort zones:</p>
  
            <div class="steps">
              <div class="step">
                <h3><span class="n">1</span>Positive Reinforcement</h3>
                <p>Increase wanted behavior by immediately rewarding it. Use food, toys, praise, or play. Mark success with a clicker or a ‚Äúyes‚Äù to improve timing.</p>
              </div>
  
              <div class="step">
                <h3><span class="n">2</span>Desensitization & Counter-Conditioning</h3>
                <p>Expose the dog or cat gradually to triggers at a level where they remain relaxed (‚Äúbelow threshold‚Äù) while pairing those moments with great outcomes like treats or play. Advance slowly to maintain comfort.</p>
              </div>
  
              <div class="step">
                <h3><span class="n">3</span>Environment & Needs</h3>
                <p>Set your learner up for success. Provide species-appropriate enrichment ‚Äî litter boxes, scratching posts, rest spots, puzzle feeders, or walk breaks. Manage surroundings to prevent mistakes before they happen.</p>
              </div>
  
              <div class="step">
                <h3><span class="n">4</span>Impulse Control & Calm Behaviors</h3>
                <p>Teach patience through simple exercises like waiting at doors or before meals. Reinforce calm choices to reduce frustration and over-arousal.</p>
              </div>
  
              <div class="step">
                <h3><span class="n">5</span>Choice & Consent</h3>
                <p>Allow dogs and cats to choose when and how to participate in handling or training. Voluntary interaction builds trust and reduces stress.</p>
              </div>
            </div>
  
            <h2>Why Not Dominance or Force?</h2>
            <p>‚ÄúAlpha‚Äù and punishment-based theories have been disproven by decades of behavioral science. Coercion or intimidation can suppress communication, increase fear, and create defensive aggression. Positive, LIMA-aligned training strengthens trust and long-term reliability instead.</p>
  
            <h2>Results That Matter</h2>
            <ul class="lima-principles">
              <li>Strengthens the human‚Äìanimal bond</li>
              <li>Reduces stress, fear, and reactivity</li>
              <li>Encourages curiosity and confidence</li>
              <li>Produces reliable, repeatable behaviors</li>
              <li>Improves overall welfare and relationship harmony</li>
            </ul>
  
          </div>
        </div>
      </div>
    </div>
  </div>


	<section id="resources" class="page training">
	  <div class="container">
		<button class="back" onclick="showPage('home')">‚Üê Back to Home</button>
		<div class="t-head">
		  <h1>Training Resources</h1>
		  <p>Recommended books, equipment, and organizations that support reward-based feline training and welfare.</p>
		</div>

		<div class="features-grid">
		  <div class="feature-card">
			<div class="feature-icon">üìö</div>
			<h3>Essential Reading</h3>
			<p>
			  <strong>"Decoding Your Cat"</strong> ‚Äî ACVB<br>
			  <strong>"Think Like a Cat"</strong> ‚Äî Pam Johnson-Bennett<br>
			  <strong>"Total Cat Mojo"</strong> ‚Äî Jackson Galaxy
			</p>
		  </div>

		  <div class="feature-card">
			<div class="feature-icon">üèõÔ∏è</div>
			<h3>Professional Organizations</h3>
			<p>
			  <strong>AAFP</strong> ‚Äî American Assoc. of Feline Practitioners<br>
			  <strong>ISFM</strong> ‚Äî Intl. Society of Feline Medicine<br>
			  <strong>IAABC</strong> ‚Äî Intl. Assoc. of Animal Behavior Consultants<br>
			  <strong>AVSAB</strong> ‚Äî Vet Society of Animal Behavior
			</p>
		  </div>

		  <div class="feature-card">
			<div class="feature-icon">üõ†Ô∏è</div>
			<h3>Training Equipment</h3>
			<p>
			  <strong>Clicker/marker:</strong> precise timing<br>
			  <strong>Harness:</strong> H/Y-style cat harness (never collar)<br>
			  <strong>Treats:</strong> tiny, soft, high-value; lickable tubes<br>
			  <strong>Target stick & mat:</strong> for follow/station work<br>
			  <strong>Puzzle feeders:</strong> for enrichment/foraging
			</p>
		  </div>

		  <div class="feature-card">
			<div class="feature-icon">üß†</div>
			<h3>Learning Theory</h3>
			<p>
			  Positive reinforcement increases behavior.<br>
			  Negative punishment (withholding access) reduces unwanted behavior without fear.<br>
			  Train <em>below threshold</em>; keep sessions short, fun, and consistent.
			</p>
		  </div>

		  <div class="feature-card">
			<div class="feature-icon">‚ö†Ô∏è</div>
			<h3>Avoid These Methods</h3>
			<p>
			  Scruffing, spray bottles, yelling, or physical corrections.<br>
			  Dominance/‚Äúalpha‚Äù theories, aversive collars, forced handling.<br>
			  Punishment risks fear, hiding, and aggression.
			</p>
		  </div>

		  <div class="feature-card" onclick="showPage('cat-faq')" style="cursor:pointer">
			<div class="feature-icon">‚ùì</div>
			<h3>Cat FAQ</h3>
			<p>Common questions on litter, scratching, handling, harness/leash, training & troubleshooting.</p>
		  </div>
		</div>
	  </div>
	</section>



  <!-- CONTACT -->
  <section id="contact" class="page training">
    <div class="container">
      <button class="back" onclick="goCatHome(event)">‚Üê Back to Home</button>
      <div class="t-head">
        <h1>Website Support</h1>
        <p>Report issues or suggest improvements for this free educational site.</p>
      </div>
      <div class="steps">
        <div class="step">
          <h3>Send Feedback</h3>
          <form id="feedbackForm" onsubmit="handleFeedback(event)">
            <label>Message<br><textarea id="fb-msg" required style="width:100%;height:110px;border:1px solid #7c3aed;border-radius:10px;padding:10px"></textarea></label>
            <button class="cta-button" style="margin-top:10px">Submit</button>
          </form>
          <p id="fb-status" style="margin-top:8px;color:#7c3aed;font-weight:700"></p>
        </div>
        <div class="warn">
          <h3>Important</h3>
          <p>This site is educational only. For serious behavior issues, consult a qualified feline behavior professional or your veterinarian.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Unlock Modal (Cat version matching Dog layout) -->
  <div id="unlock-modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content">
      <button class="close" onclick="closeUnlock()">‚úï</button>
      <h2>üêà Unlock Premium Cat Topics</h2>
      <p style="opacity:.9;margin-bottom:10px">
        Register to unlock <strong>advanced modules</strong> and progress tracking.
      </p>
  
      <div class="premium-info">
        <ul class="premium-features">
          <li>ü™¢ Harness & Leash Training</li>
          <li>üîä Clicker Basics</li>
          <li>üêà‚Äç‚¨õ Cat Introductions</li>
          <li>üçΩÔ∏è Cooperative Husbandry</li>
          <li>üéØ Target & Recall</li>
          <li>üòø Fear & Aggression Recovery</li>
        </ul>
      </div>
  
      <input id="unlock-code" type="text" maxlength="6" placeholder="ABC123" />
  
      <button onclick="applyUnlock()">Unlock Now</button>
      <button class="secondary-btn" onclick="generateDemoCode()">üéÅ Get Free Code</button>
      <button class="secondary-btn" onclick="openDonation()">‚ù§Ô∏è Support Development</button>
      <button class="secondary-btn" style="background:#1e293b;color:#f87171;margin-top:12px" onclick="resetDemoLock()">üîí Unregister</button>
    </div>
  </div>

  <!-- Progress Tracker Modal -->
  <div id="tracker-modal" class="modal" role="dialog" aria-modal="true">
    <div class="modal-content" id="tracker-panel">
      <button class="close" onclick="closeTracker()">‚úï</button>
      <h2 id="trk-title">Progress Tracker</h2>
      <div id="trk-list"></div>
      <button class="ghost" onclick="clearTracker()">Clear This Topic</button>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>&copy; 2025 Purrfect Training ‚Äî Reward-based feline education.</p>
      <p>Zero force ‚Ä¢ Fear-reduction ‚Ä¢ Welfare-first</p>
    </div>
  </footer>

  <!-- CAT FAQ PAGE -->
  <section id="cat-faq" class="page training">
    <div class="container">
      <button class="back" onclick="showPage('resources')">‚Üê Back to Resources</button>
  
      <div class="t-head">
        <h1>Cat Training FAQ</h1>
        <p>Quick answers about reward-based feline training, husbandry, and common issues.</p>
      </div>
  
      <div class="steps">
        <h2>Training Basics</h2>
  
        <div class="step">
          <h3><span class="n">1</span> Do cats even respond to training?</h3>
          <p>Yes. Cats learn through consequences just like dogs. Use tiny, high-value rewards and short (30‚Äì60s) sessions.</p>
        </div>
  
        <div class="step">
          <h3><span class="n">2</span> My cat isn‚Äôt food-motivated ‚Äî now what?</h3>
          <p>Try lickable treats, warmed soft foods, play bursts, access to window perches, or ending the session as the reward.</p>
        </div>
  
        <div class="step">
          <h3><span class="n">3</span> How fast will I see progress?</h3>
          <p>Simple behaviors (target, station) can improve within days; desensitization (carrier, handling) takes weeks of bite-sized reps.</p>
        </div>
      </div>
  
      <div class="steps">
        <h2>Litter & Scratching</h2>
  
        <div class="step">
          <h3><span class="n">1</span> Best litter box setup?</h3>
          <p>One box per cat + one extra; very large box; unscented clumping litter; 2‚Äì3" depth; quiet, separate locations.</p>
        </div>
  
        <div class="step">
          <h3><span class="n">2</span> How do I stop furniture scratching?</h3>
          <p>Give posts of multiple textures/angles, put them where the cat wants them, reinforce use, and temporarily protect furniture.</p>
        </div>
      </div>
  
      <div class="steps">
        <h2>Handling, Harness & Vet Prep</h2>
  
        <div class="step">
          <h3><span class="n">1</span> Carrier training essentials?</h3>
          <p>Keep the carrier out, feed inside, close briefly while feeding, then lift/move in tiny increments; always below fear threshold.</p>
        </div>
  
        <div class="step">
          <h3><span class="n">2</span> Safe harness/leash intro?</h3>
          <p>Pair harness on/off with treats, build duration, practice indoors, then short, calm outdoor sessions at the cat‚Äôs pace.</p>
        </div>
      </div>
  
      <div class="steps">
        <h2>Troubleshooting</h2>
  
        <div class="step">
          <h3><span class="n">1</span> Works at home but not elsewhere</h3>
          <p>Cats generalize poorly. Re-teach in new rooms/contexts, start easy, and raise criteria slowly.</p>
        </div>
  
        <div class="step">
          <h3><span class="n">2</span> When to get professional help?</h3>
          <p>Bites, sustained aggression, severe fear/anxiety, or litter issues with medical signs ‚Üí contact your vet/behavior pro.</p>
        </div>
      </div>
    </div>
  </section>


  <script>
    /* ========= Router ========= */
    function showPage(id){
      for(const el of document.querySelectorAll('.page')) el.classList.remove('active');
      document.getElementById(id).classList.add('active');
      window.scrollTo({top:0,behavior:'instant'});
    }

	function openDonation(){
	  window.open('https://paypal.me/ReverendDrTolerant?country.x=US&locale.x=en_US','_blank','noopener');
	}

	function resetDemoLock(){
	  localStorage.removeItem('feline_training_unlock_v1');
	  alert('Demo reset ‚Äî premium topics re-locked.');
	  location.reload();
	}

    function showTraining(id){
      const t = TRAINING[id];
      if(!t){alert('Missing topic');return;}
      // Render header
      document.getElementById('t-title').textContent = t.title;
      document.getElementById('t-sub').textContent   = t.subtitle;
      // Render steps
      const stepsEl = document.getElementById('t-steps'); stepsEl.innerHTML = '<h2>Step-by-Step Plan</h2>';
      t.steps.forEach((s,i)=>{
        const div = document.createElement('div');
        div.className='step';
        div.innerHTML = `<h3><span class="n">${i+1}</span>${s.h}</h3><p>${s.p}</p>`;
        stepsEl.appendChild(div);
      });
      // Tips + warnings
      document.getElementById('t-tips').innerHTML = `<h3>üí° Tips</h3><ul style="padding-left:18px">${t.tips.map(x=>`<li>${x}</li>`).join('')}</ul>`;
      document.getElementById('t-warn').innerHTML = `<h3>üîß Troubleshooting</h3><ul style="padding-left:18px">${t.warn.map(x=>`<li>${x}</li>`).join('')}</ul>`;
      // Set current topic for tracker
      CURRENT_TOPIC = id;
      showPage('training');
    }

    /* ========= Premium Guard (separate key from dog site) ========= */
    const STORAGE_KEY_UNLOCK = 'feline_training_unlock_v1'; // unique key so sites don't cross-unlock
    function isUnlocked(){ return localStorage.getItem(STORAGE_KEY_UNLOCK) === '1'; }
    function guardPremium(e){
      if(!isUnlocked()){ e.preventDefault(); openUnlock(); }
    }
    function openUnlock(){ document.getElementById('unlock-modal').style.display='block'; }
    function closeUnlock(){ document.getElementById('unlock-modal').style.display='none'; }
	function applyUnlock(){
	  const v = (document.getElementById('unlock-code').value || '').trim().toUpperCase();
	  if(v.length!==6){ alert('Enter a 6-character code.'); return; }
	  // Simple accept for demo; replace with server verification if desired
	  localStorage.setItem(STORAGE_KEY_UNLOCK,'1');
	  alert('‚úÖ Premium topics unlocked on the cat site only.');
	  closeUnlock();
	  // immediately refresh UI
	  updateCatUnlockButton();
	  unlockPremiumCardsNow();
	}

    function generateDemoCode(){
      const code = Math.random().toString(36).slice(2,8).toUpperCase();
      document.getElementById('unlock-code').value = code;
    }

    /* ========= Progress Tracker ========= */
    let CURRENT_TOPIC = null;
    function trackerKey(){ return 'feline_tracker_'+CURRENT_TOPIC; }
    function openTracker(){
      if(!CURRENT_TOPIC){ alert('Open a training topic first.'); return; }
      document.getElementById('trk-title').textContent = 'Progress ‚Äî ' + TRAINING[CURRENT_TOPIC].title;
      renderTracker();
      document.getElementById('tracker-modal').style.display='block';
    }
    function closeTracker(){ document.getElementById('tracker-modal').style.display='none'; }
    function renderTracker(){
      const k = trackerKey();
      const data = JSON.parse(localStorage.getItem(k) || '[]'); // array of stars per step
      const steps = TRAINING[CURRENT_TOPIC].steps;
      const host = document.getElementById('trk-list');
      host.innerHTML = '';
      steps.forEach((s,idx)=>{
        const row = document.createElement('div');
        row.style.cssText = 'background:#fff;color:#111;border-left:4px solid #7c3aed;border-radius:10px;padding:12px;margin:10px 0';
        const stars = (data[idx]||0);
        row.innerHTML =
          `<div style="display:flex;justify-content:space-between;align-items:center;gap:10px">
            <div><strong>Step ${idx+1}:</strong> ${s.h}</div>
            <div>${renderStars(stars,idx)}</div>
          </div>`;
        host.appendChild(row);
      });
    }
    function renderStars(active, idx){
      let out='';
      for(let i=1;i<=5;i++){
        const isOn = i<=active;
        out += `<span data-i="${i}" data-step="${idx}" class="star" style="font-size:28px;cursor:pointer;color:${isOn?'#fbbf24':'#e5e7eb'}">‚òÖ</span>`;
      }
      return out;
    }
    document.addEventListener('click', (e)=>{
      if(e.target.classList.contains('star')){
        const i = +e.target.getAttribute('data-i');
        const s = +e.target.getAttribute('data-step');
        const k = trackerKey();
        const data = JSON.parse(localStorage.getItem(k) || '[]');
        data[s]=i; localStorage.setItem(k, JSON.stringify(data));
        renderTracker();
      }
      if(e.target.classList.contains('modal')) e.target.style.display='none';
    });
    function clearTracker(){
      localStorage.removeItem(trackerKey());
      renderTracker();
    }

    /* ========= Feedback (client-side only demo) ========= */
    function handleFeedback(ev){
      ev.preventDefault();
      const msg = (document.getElementById('fb-msg').value||'').trim();
      if(!msg){return;}
      // In production, POST to your endpoint. Here we persist locally for user review.
      const k='feline_feedback_store';
      const arr = JSON.parse(localStorage.getItem(k)||'[]');
      arr.push({t:Date.now(),msg});
      localStorage.setItem(k,JSON.stringify(arr));
      document.getElementById('fb-msg').value='';
      document.getElementById('fb-status').textContent='Thanks! Your feedback was saved locally.';
      setTimeout(()=>document.getElementById('fb-status').textContent='',3000);
    }

    /* ========= Training Content (no placeholders) ========= */
    const TRAINING = {
      litter:{
        title:'üß∫ Litter Habits',
        subtitle:'Set up boxes your cat wants to use; fix issues without punishment.',
        steps:[
          {h:'Provide Enough, Proper Boxes', p:'One box per cat + one extra. Size: at least 1.5√ó body length (large storage-tote style works). Low/unguarded entry for kittens/seniors.'},
          {h:'Choose Unscented, Fine Substrate', p:'Most cats prefer soft, unscented, clumping litter. Avoid strong perfumes.'},
          {h:'Place Boxes Right', p:'Quiet, separate locations away from food/water, easy access on every floor. Avoid corners with no escape path.'},
          {h:'Cleanliness & Depth', p:'Scoop at least 1‚Äì2√ó daily; maintain ~2‚Äì3 inches depth; wash box with mild soap weekly.'},
          {h:'Fix Problems Systematically', p:'Rule out medical causes with a vet. Add boxes and change one variable at a time. Reinforce correct use; never punish accidents.'}
        ],
        tips:['Add night-light for dark hallways','Use high-sided box for kickers; low entry for mobility needs','Place a temporary box where accidents occur, then gradually move'],
        warn:['If spraying or painful elimination is seen, contact your vet promptly','Stress or inter-cat conflict often underlies issues‚Äîadd resources and vertical space']
      },
      scratching:{
        title:'ü™µ Scratching & Posts',
        subtitle:'Give legal outlets and make them the best choice.',
        steps:[
          {h:'Offer Multiple Textures & Angles', p:'Sisal fabric/rope, cardboard, and wood; both vertical towers and horizontal pads.'},
          {h:'Place Where Cat Wants', p:'Near sleep spots, windows, and prior ‚Äúillegal‚Äù areas. Anchor posts so they do not wobble.'},
          {h:"Make The Post 'Pay'", p:'Lure with wand play; mark with catnip or silver vine; jackpot reward when used.'},
          {h:'Block & Redirect', p:'Cover previously scratched furniture with temporary guards or double-sided tape while reinforcing the post.'}
        ],
        tips:['Tall posts (‚â• 30 in / 75 cm) for full stretch','Reward every approach/use for the first week'],
        warn:['Do not punish scratching; provide alternatives and reinforce them']
      },
      carrier:{
        title:'üß≥ Carrier/Handling',
        subtitle:'Teach the carrier = treats & naps so vet trips are easier.',
        steps:[
          {h:'Carrier Stays Out', p:'Leave it open with a soft blanket in a normal hangout area.'},
          {h:'Feed & Treat In Carrier', p:'Drop treats inside; feed meals nearby ‚Üí just inside ‚Üí fully inside.'},
          {h:'Close Briefly, Release Calmly', p:'Close door for 1‚Äì2 seconds while feeding, then open. Build duration slowly.'},
          {h:'Pick Up & Move', p:'Lift carrier a few inches, treat; later walk around the room; then short car idles ‚Üí minute drives.'},
          {h:'Add Gentle Handling', p:'Pair touch (paws, ears) with treats to prepare for exams and nail trims.'}
        ],
        tips:['Top-opening carrier helps handling','Use a familiar towel sprayed lightly with species-safe pheromone 10‚Äì15 min before use'],
        warn:['Train below fear threshold; if panting, drooling, or hiding increases, back up a step']
      },
      harness:{
        title:'ü™¢ Harness & Leash',
        subtitle:'Indoor practice ‚Üí quiet yard ‚Üí calm, short routes.',
        steps:[
          {h:'Fit A Cat-Specific Harness', p:'Y-front or H-style; never clip a leash to a collar.'},
          {h:'Pair Harness With Rewards', p:'Harness on = treats/play; off = no treats. Increase wear time gradually.'},
          {h:'Leash Drag Indoors', p:'Let the leash drag while you reward following and check-ins.'},
          {h:'Doorway & Yard Sessions', p:'Practice at threshold; then brief yard time; retreat before stress appears.'},
          {h:'Explore Quietly', p:'Follow the cat‚Äôs pace; avoid dogs/traffic; end on a win.'}
        ],
        tips:['Use a long line only in secure areas','Carry a towel to scoop and retreat if startled'],
        warn:['If your cat flattens/freezes, go back several steps; never force movement']
      },
      clicker:{
        title:'üîä Clicker Basics',
        subtitle:'Marker training speeds communication and turns learning into play.',
        steps:[
          {h:'Charge The Marker', p:'Click ‚Üí treat, 10‚Äì15 times. The click predicts food.'},
          {h:'Target Game', p:'Present a target (spoon/stick). Click the instant the nose touches; then treat.'},
          {h:'Lure ‚Üí Fade', p:'Lure sit with a treat, then click/treat; quickly fade the lure to a hand cue.'},
          {h:'Shape Micro-Steps', p:'Reinforce small moves toward the goal (e.g., stepping into carrier).'},
          {h:'Short, Fun Sessions', p:'30‚Äì60 seconds, a few times daily; stop while your cat is eager.'}
        ],
        tips:['Use tiny, high-value treats','One behavior per short session'],
        warn:['If arousal rises or cat walks away, end session and reduce criteria']
      },
      intro:{
        title:'üêà‚Äç‚¨õ Introductions',
        subtitle:'Slow scent work and controlled visuals prevent conflict.',
        steps:[
          {h:'Room Separation', p:'New cat gets a private room with resources; feed both cats on opposite sides of door.'},
          {h:'Scent Swaps & Site Swaps', p:'Exchange bedding; briefly swap rooms so each explores safely.'},
          {h:'Visual Glimpses', p:'Gate or cracked door with treats for calm looking; sessions stay short.'},
          {h:'Parallel Play/Feeding', p:'Increase shared time while playing/feeding with distance.'},
          {h:'Short Supervised Access', p:'Allow brief together time; interrupt tension early; progress gradually.'}
        ],
        tips:['Add vertical space and multiple resources in common areas'],
        warn:['Hissing/growling ‚Üí step back to the last calm stage; never force contact']
      },
      // Premium examples (unlocked with code)
      husbandry:{
        title:'üçΩÔ∏è Husbandry Skills',
        subtitle:'Brush, medicate, and trim with cooperative care.',
        steps:[
          {h:'Consent Cues', p:'Teach a station mat; start all sessions on the mat; reinforce staying.'},
          {h:'Touch ‚Üí Treat', p:'Pair brief touches (ears/paws/mouth) with treats; increase duration slowly.'},
          {h:'Tools Desensitization', p:'Show brush/clipper ‚Üí treat; touch lightly ‚Üí treat; single nail ‚Üí treat.'},
          {h:'Micro-Goals', p:'One tiny rep per area; stop before frustration.'}
        ],
        tips:['Warm towels relax muscles before nail trims'],
        warn:['If struggling, pause; two-person restraint is a last resort and can backfire']
      },
      target:{
        title:'üéØ Target & Recall',
        subtitle:'Teach follow, station, and ‚Äúcome.‚Äù',
        steps:[
          {h:'Nose Target', p:'Click/treat nose to target; move target a few inches at a time.'},
          {h:'Follow The Target', p:'Guide to carrier/post/room; reinforce frequently.'},
          {h:'Station', p:'Reward going to a mat or perch; add duration.'},
          {h:'Recall', p:'Cheerful cue from a short distance ‚Üí jackpot; increase distance and distractions indoors first.'}
        ],
        tips:['Never call to end fun (like nail trims) while training recall'],
        warn:['Use indoors or on a secure long line until reliable']
      },
      fear:{
        title:'üòø Fear & Aggression',
        subtitle:'Work well below threshold; pair triggers with great outcomes.',
        steps:[
          {h:'Identify Triggers', p:'Note distance/sound that starts tension; that is your starting point.'},
          {h:'CC/DS Plan', p:'Trigger at low intensity ‚Üí treat sequence; end before tension rises.'},
          {h:'Body Language', p:'Ears back, tail tucked, dilated pupils = too much; decrease intensity.'},
          {h:'Safety', p:'Avoid reaching, cornering, or punishment; create escape routes.'}
        ],
        tips:['Short sessions, higher value rewards, generous rest days'],
        warn:['Seek professional help for bites or escalating aggression']
      }
    };

    /* ========= Gate for premium navigation ========= */
    function showTrainingPage(id){
      const premium = ['husbandry','target','fear'];
      if(premium.includes(id) && !isUnlocked()){ openUnlock(); return; }
      showTraining(id);
    }

    /* ========= Init ========= */
    // Ensure locked cards become clickable after unlock without reload
    window.addEventListener('storage', (e)=>{
      if(e.key===STORAGE_KEY_UNLOCK && e.newValue==='1'){
        for(const c of document.querySelectorAll('.card.locked')) c.classList.remove('locked');
      }
    });
  </script>
  <script>
  function updateCatUnlockButton() {
    var btn = document.querySelector('.unlock-chip');
    if (!btn) return;
    if (localStorage.getItem('feline_training_unlock_v1') === '1') {
      btn.textContent = '‚úÖ Registered';
      btn.style.background = '#22c55e';
      btn.style.color = '#fff';
    } else {
      btn.textContent = 'üîì UNLOCK';
      btn.style.background = '#ec4899';
      btn.style.color = '#fff';
    }
  }

  function unlockPremiumCardsNow() {
    document.querySelectorAll('.card.locked').forEach(c => c.classList.remove('locked'));
  }

  function initCatLocks() {
    const unlocked = localStorage.getItem('feline_training_unlock_v1') === '1';
    updateCatUnlockButton();
    if (unlocked) {
      unlockPremiumCardsNow();
    } else {
      const ids = ['harness','clicker','intro','husbandry','target','fear'];
      ids.forEach(id => {
        document.querySelectorAll(`[onclick*="${id}"]`).forEach(c => c.classList.add('locked'));
      });
    }
  }

  document.addEventListener('DOMContentLoaded', initCatLocks);

  /* Patch applyUnlock to update UI immediately and unlock cards */
  (function(){
    var origApply = window.applyUnlock;
    window.applyUnlock = function () {
      if (typeof origApply === 'function') origApply();
      updateCatUnlockButton();
      unlockPremiumCardsNow();
    };
  })();

  /* Listen for cross-tab unlock events */
  window.addEventListener('storage', e => {
    if (e.key === 'feline_training_unlock_v1' && e.newValue === '1') {
      updateCatUnlockButton();
      unlockPremiumCardsNow();
    }
  });
  </script>

  <script>
    // Always keep "Back to Home" inside the cat site
    function goCatHome(e){
      if (e) e.preventDefault();
      // If we're not already under /cats/, hard-redirect to the cat home
      if (!/\/cats(\/|$)/i.test(location.pathname)) {
        location.href = '/cats/index.html';
        return;
      }
      // SPA-style: just show the home page section
      showPage('home');
      // (Optional) normalize the URL if someone deep-linked a cat subpage
      if (!/\/cats\/index\.html$/i.test(location.pathname)) {
        history.replaceState(null, '', '/cats/index.html');
      }
    }
  </script>  
</body>
</html>
